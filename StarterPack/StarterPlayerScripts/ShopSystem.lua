local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local shopEvent = ReplicatedStorage:WaitForChild("ShopEvent") -- รอจนกว่าจะเจอ (ไม่มี timeout)

-- [[ ?? ?????????????? StarterGui ??????????? ?????? ]]
local shopUI = playerGui:WaitForChild("ShopUI") 
local shopFrame = shopUI:WaitForChild("ShopFrame")
local yesBtn = shopFrame:WaitForChild("YesButton") -- ????????
local noBtn = shopFrame:WaitForChild("NoButton")   -- ???????

shopEvent.OnClientEvent:Connect(function()
	print("?? ????????????")
	shopFrame.Visible = true
end)

yesBtn.MouseButton1Click:Connect(function()
	print("? ?????? (???????????????????)")
	shopEvent:FireServer("Buy") -- ?????? Buy
end)

noBtn.MouseButton1Click:Connect(function()
	print("?? ????? (??????????? + ????????)")
	shopFrame.Visible = false -- ??? UI
	shopEvent:FireServer("Exit") -- ??? Exit ????? Server ??? NextTurn
end)